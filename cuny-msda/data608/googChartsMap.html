<html>
  <head>
	<meta charset="utf-8">
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<title>Data 608 HW6 - Google Vis</title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="//www.google.com/jsapi"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="//www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['geomap']});
      google.charts.setOnLoadCallback(drawMap);

      function drawMap() {

		$.get("debt_gdp_2005.csv", function(csvString) {
			  var arrayData = $.csv.toArrays(csvString, {onParseValue: $.csv.hooks.castToScalar});
			  var data = new google.visualization.arrayToDataTable(arrayData);
				var options = {};
				options['dataMode'] = 'regions';
				var container = document.getElementById('regions_div');
				var geomap = new google.visualization.GeoMap(container);
				geomap.draw(data, options);
		   });

      };
    </script>
  </head>
  <body>
	<h1>GoogleViz: Global Debt to GDP Ratios in 2005</h1>
    <div id="regions_div" style="width: 900px; height: 500px;"></div>
  </body>
</html>